<head>
    <title>Socket.io Boilerplate</title>
</head>

<body>
    <div id="userAuth">
        <!-- <form id="frm1" onsubmit="bruh();return false">
            Room Code: <input id="roomCode" onclick="return false" type="text" name="roomCode" value=""><br>
        </form>
        <button id="btn">Join Room</button> -->

        <form id="inputForm">
            test: <input id="ac" onclick="return false" type="text" name="roomCode" value=""><br>
        </form>
        <button id="testBtn">test btn</button>
    
        <div id="roomStatus"></div>
    </div>
    <div id="nameSelect" style="display:none;">
        choose ur nickname
    </div>
    <div id="foo">Server Status: ðŸ”´</div>
</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.min.js" integrity="sha384-fKnu0iswBIqkjxrhQCTZ7qlLHOFEgNkRmK2vaO/LbTZSXdJfAu6ewRBdwHPhBo/H" crossorigin="anonymous"></script>
<script>
    const log = console.log.bind(console);
    const socket = io('http://86.2.10.33:3221/');
    log("%cSocket.io Boilerplate", "color:blue; font-size:50px");

    // await for assignment
    var roomCode;

    socket.on('connect', () => {
        document.getElementById('foo').innerHTML = 'Server Status: âœ…';
    });
    socket.on('disconnect', () => {
        document.getElementById('foo').innerHTML = 'Server Status: ðŸ”´';
    });
    socket.on('roomConnect', () => {
        // window.location.href = window.location.href + `?code=${roomCode}`;
        document.getElementById('roomStatus').innerHTML = '';
    });
    socket.on('roomError', () => {
        document.getElementById('roomStatus').innerHTML = 'That room does not exist, Please try again or fresh the browser..';
    });

    document.getElementById('testBtn').addEventListener('click', () => {
        var room = {
            roomCode: document.getElementById('ac').value
        };
        var user = {
            userType: 'student'
        };
        socket.emit('roomListener', {room, user});
    });
</script>
